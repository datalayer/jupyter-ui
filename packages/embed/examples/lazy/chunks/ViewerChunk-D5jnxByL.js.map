{"version":3,"file":"ViewerChunk-D5jnxByL.js","sources":["../../../react/lib/jupyter/renderers/plotly/PlotlyRenderer.js","../../../react/lib/components/viewer/input/InputViewer.js","../../../react/lib/components/viewer/Viewer.js","../../src/chunks/ViewerChunk.tsx"],"sourcesContent":["/*\n * Copyright (c) 2021-2023 Datalayer, Inc.\n *\n * MIT License\n */\n// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { Widget } from '@lumino/widgets';\nimport './plotly.css';\n/**\n * The CSS class to add to the Plotly Widget.\n */\nconst CSS_CLASS = 'jp-RenderedPlotly';\n/**\n * The CSS class for a Plotly icon.\n */\nconst CSS_ICON_CLASS = 'jp-MaterialIcon jp-PlotlyIcon';\n/**\n * The MIME type for Plotly.\n * The version of this follows the major version of Plotly.\n */\nexport const MIME_TYPE = 'application/vnd.plotly.v1+json';\nexport class RenderedPlotly extends Widget {\n    /**\n     * Create a new widget for rendering Plotly.\n     */\n    constructor(options) {\n        super();\n        this.addClass(CSS_CLASS);\n        this._mimeType = options.mimeType;\n        // Create image element\n        this._img_el = document.createElement('img');\n        this._img_el.className = 'plot-img';\n        this.node.appendChild(this._img_el);\n        // Install image hover callback\n        this._img_el.addEventListener('mouseenter', event => {\n            this.createGraph(this._model);\n        });\n    }\n    /**\n     * Render Plotly into this widget's node.\n     */\n    renderModel(model) {\n        if (this.hasGraphElement()) {\n            // We already have a graph, don't overwrite it\n            return Promise.resolve();\n        }\n        // Save off reference to model so that we can regenerate the plot later\n        this._model = model;\n        // Check for PNG data in mime bundle\n        const png_data = model.data['image/png'];\n        if (png_data !== undefined && png_data !== null) {\n            // We have PNG data, use it\n            this.updateImage(png_data);\n            return Promise.resolve();\n        }\n        else {\n            // Create a new graph\n            return this.createGraph(model);\n        }\n    }\n    hasGraphElement() {\n        // Check for the presence of the .plot-container element that plotly.js\n        // places at the top of the figure structure\n        return this.node.querySelector('.plot-container') !== null;\n    }\n    updateImage(png_data) {\n        this.hideGraph();\n        this._img_el.src = 'data:image/png;base64,' + png_data;\n        this.showImage();\n    }\n    hideGraph() {\n        // Hide the graph if there is one\n        const el = this.node.querySelector('.plot-container');\n        if (el !== null && el !== undefined) {\n            el.style.display = 'none';\n        }\n    }\n    showGraph() {\n        // Show the graph if there is one\n        const el = this.node.querySelector('.plot-container');\n        if (el !== null && el !== undefined) {\n            el.style.display = 'block';\n        }\n    }\n    hideImage() {\n        // Hide the image element\n        const el = this.node.querySelector('.plot-img');\n        if (el !== null && el !== undefined) {\n            el.style.display = 'none';\n        }\n    }\n    showImage() {\n        // Show the image element\n        const el = this.node.querySelector('.plot-img');\n        if (el !== null && el !== undefined) {\n            el.style.display = 'block';\n        }\n    }\n    createGraph(model) {\n        const { data, layout, frames, config } = model.data[this._mimeType];\n        if (!layout.height) {\n            layout.height = 360;\n        }\n        // Load plotly asynchronously\n        const loadPlotly = async () => {\n            if (RenderedPlotly.Plotly === null) {\n                RenderedPlotly.Plotly = await import('plotly.js');\n                RenderedPlotly._resolveLoadingPlotly();\n            }\n            return RenderedPlotly.loadingPlotly;\n        };\n        return loadPlotly()\n            .then(() => RenderedPlotly.Plotly.react(this.node, data, layout, config))\n            .then(plot => {\n            this.showGraph();\n            this.hideImage();\n            this.update();\n            if (frames) {\n                RenderedPlotly.Plotly.addFrames(this.node, frames);\n            }\n            if (this.node.offsetWidth > 0 && this.node.offsetHeight > 0) {\n                RenderedPlotly.Plotly.toImage(plot, {\n                    format: 'png',\n                    width: this.node.offsetWidth,\n                    height: this.node.offsetHeight,\n                }).then((url) => {\n                    const imageData = url.split(',')[1];\n                    if (model.data['image/png'] !== imageData) {\n                        model.setData({\n                            data: {\n                                ...model.data,\n                                'image/png': imageData,\n                            },\n                        });\n                    }\n                });\n            }\n            // Handle webgl context lost events\n            this.node.on('plotly_webglcontextlost', () => {\n                const png_data = model.data['image/png'];\n                if (png_data !== undefined && png_data !== null) {\n                    // We have PNG data, use it\n                    this.updateImage(png_data);\n                    return Promise.resolve();\n                }\n            });\n        });\n    }\n    /**\n     * A message handler invoked on an `'after-show'` message.\n     */\n    onAfterShow(msg) {\n        this.update();\n    }\n    /**\n     * A message handler invoked on a `'resize'` message.\n     */\n    onResize(msg) {\n        this.update();\n    }\n    /**\n     * A message handler invoked on an `'update-request'` message.\n     */\n    onUpdateRequest(msg) {\n        if (RenderedPlotly.Plotly && this.isVisible && this.hasGraphElement()) {\n            RenderedPlotly.Plotly.redraw(this.node).then(() => {\n                RenderedPlotly.Plotly.Plots.resize(this.node);\n            });\n        }\n    }\n    _mimeType;\n    _img_el;\n    _model;\n    static Plotly = null;\n    static _resolveLoadingPlotly;\n    static loadingPlotly = new Promise(resolve => {\n        RenderedPlotly._resolveLoadingPlotly = resolve;\n    });\n}\n/**\n * A mime renderer factory for Plotly data.\n */\nexport const rendererFactory = {\n    safe: true,\n    mimeTypes: [MIME_TYPE],\n    defaultRank: 10,\n    createRenderer: options => new RenderedPlotly(options),\n};\nconst extensions = [\n    {\n        id: '@jupyterlab/plotly-extension:factory',\n        rendererFactory,\n        rank: 1,\n        dataType: 'json',\n        fileTypes: [\n            {\n                name: 'plotly',\n                mimeTypes: [MIME_TYPE],\n                extensions: ['.plotly', '.plotly.json'],\n                iconClass: CSS_ICON_CLASS,\n            },\n        ],\n        documentWidgetFactoryOptions: {\n            name: 'Plotly',\n            primaryFileType: 'plotly',\n            fileTypes: ['plotly', 'json'],\n            defaultFor: ['plotly'],\n        },\n    },\n];\nexport default extensions;\n//# sourceMappingURL=PlotlyRenderer.js.map","import { jsx as _jsx, Fragment as _Fragment } from \"react/jsx-runtime\";\n/*\n * Copyright (c) 2021-2023 Datalayer, Inc.\n *\n * MIT License\n */\nimport { EditorThemeRegistry, EditorLanguageRegistry, CodeMirrorEditorFactory, EditorExtensionRegistry, ybinding, } from '@jupyterlab/codemirror';\nimport { RenderMimeRegistry, standardRendererFactories, } from '@jupyterlab/rendermime';\nimport { Cell, CodeCell, MarkdownCell, RawCell, CodeCellModel, MarkdownCellModel, RawCellModel, } from '@jupyterlab/cells';\nimport { MathJaxTypesetter } from '@jupyterlab/mathjax-extension';\nimport { createStandaloneCell, } from '@jupyter/ydoc';\nimport { rendererFactory as plotlyFactory } from './../../../jupyter/renderers/plotly/PlotlyRenderer';\nimport { newUuid } from '../../../utils/Utils';\nimport { getMarked } from './../../notebook/marked/marked';\nimport Lumino from '../../lumino/Lumino';\nconst themes = new EditorThemeRegistry();\nconst editorExtensions = () => {\n    const registry = new EditorExtensionRegistry();\n    for (const extensionFactory of EditorExtensionRegistry.getDefaultExtensions({\n        themes,\n    })) {\n        registry.addExtension(extensionFactory);\n    }\n    registry.addExtension({\n        name: 'shared-model-binding',\n        factory: options => {\n            const sharedModel = options.model.sharedModel;\n            return EditorExtensionRegistry.createImmutableExtension(ybinding({\n                ytext: sharedModel.ysource,\n                undoManager: sharedModel.undoManager ?? undefined,\n            }));\n        },\n    });\n    return registry;\n};\nconst languages = new EditorLanguageRegistry();\nfor (const language of EditorLanguageRegistry.getDefaultLanguages()) {\n    languages.addLanguage(language);\n}\nlanguages.addLanguage({\n    name: 'ipythongfm',\n    mime: 'text/x-ipythongfm',\n    load: async () => {\n        // TODO: add support for LaTeX\n        const m = await import('@codemirror/lang-markdown');\n        return m.markdown({\n            codeLanguages: (info) => languages.findBest(info),\n        });\n    },\n});\nconst renderFactories = standardRendererFactories.concat(plotlyFactory);\nconst rendermime = new RenderMimeRegistry({\n    initialFactories: renderFactories,\n    latexTypesetter: new MathJaxTypesetter(),\n    markdownParser: getMarked(languages),\n});\nconst factoryService = new CodeMirrorEditorFactory({\n    extensions: editorExtensions(),\n    languages,\n});\nexport const InputViewer = (props) => {\n    const { cell, languageInfo } = props;\n    const id = cell.id || newUuid();\n    switch (cell.cell_type) {\n        case 'code': {\n            const codeCell = new CodeCell({\n                rendermime,\n                model: new CodeCellModel({\n                    sharedModel: createStandaloneCell(cell),\n                }),\n                contentFactory: new Cell.ContentFactory({\n                    editorFactory: factoryService.newInlineEditor.bind(factoryService),\n                }),\n            }).initializeState();\n            if (languageInfo && languageInfo.mimetype) {\n                codeCell.model.mimeType = languageInfo.mimetype;\n            }\n            return (_jsx(_Fragment, { children: _jsx(Lumino, { id: id, children: codeCell }) }));\n        }\n        case 'markdown': {\n            const markdownCell = new MarkdownCell({\n                rendermime,\n                showEditorForReadOnlyMarkdown: false,\n                model: new MarkdownCellModel({\n                    sharedModel: createStandaloneCell(cell),\n                }),\n                contentFactory: new Cell.ContentFactory({\n                    editorFactory: factoryService.newInlineEditor.bind(factoryService),\n                }),\n            }).initializeState();\n            return (_jsx(_Fragment, { children: _jsx(Lumino, { id: id, children: markdownCell }) }));\n        }\n        case 'raw': {\n            const rawCell = new RawCell({\n                model: new RawCellModel({\n                    sharedModel: createStandaloneCell(cell),\n                }),\n                contentFactory: new Cell.ContentFactory({\n                    editorFactory: factoryService.newInlineEditor.bind(factoryService),\n                }),\n            });\n            return (_jsx(_Fragment, { children: _jsx(Lumino, { id: id, children: rawCell }) }));\n        }\n        default: {\n            return _jsx(_Fragment, {});\n        }\n    }\n};\nexport default InputViewer;\n//# sourceMappingURL=InputViewer.js.map","import { jsx as _jsx, Fragment as _Fragment } from \"react/jsx-runtime\";\n/*\n * Copyright (c) 2021-2023 Datalayer, Inc.\n *\n * MIT License\n */\nimport { useState, useEffect } from 'react';\nimport InputViewer from './input/InputViewer';\n// import OutputViewer from './output/OutputViewer';\nimport { newUuid } from '../../utils/Utils';\nexport const Viewer = (props) => {\n    const { nbformat, nbformatUrl } = props;\n    const [model, setModel] = useState();\n    useEffect(() => {\n        if (nbformat) {\n            setModel(nbformat);\n        }\n        if (nbformatUrl) {\n            fetch(nbformatUrl)\n                .then(response => {\n                return response.text();\n            })\n                .then(nbformat => {\n                // const nbformat = nb.replaceAll('\\\\n', '');\n                setModel(JSON.parse(nbformat));\n            });\n        }\n    }, [nbformat, nbformatUrl]);\n    return (_jsx(_Fragment, { children: model?.cells.map(cell => {\n            cell.metadata['editable'] = false;\n            return (_jsx(\"div\", { children: _jsx(InputViewer, { cell: cell, languageInfo: model.metadata.language_info }) }, cell.id?.toString() || newUuid()));\n        }) }));\n};\nexport default Viewer;\n//# sourceMappingURL=Viewer.js.map","/*\n * Copyright (c) 2021-2023 Datalayer, Inc.\n *\n * MIT License\n */\n\n/**\n * Viewer Chunk - Contains notebook viewing dependencies (read-only)\n * This is a lighter chunk as it doesn't need kernel execution support\n */\n\nimport React from 'react';\nimport {\n  JupyterReactTheme,\n  Viewer,\n} from '@datalayer/jupyter-react';\nimport type { IViewerEmbedOptions } from '../types';\n\ninterface IViewerChunkProps {\n  options: IViewerEmbedOptions;\n}\n\nconst ViewerInner: React.FC<IViewerChunkProps> = ({ options }) => {\n  const nbformat = typeof options.content === 'object' ? options.content : undefined;\n\n  return (\n    <div style={{ height: options.height || 'auto' }}>\n      <Viewer \n        nbformat={nbformat as any}\n        nbformatUrl={options.url}\n        outputs={options.outputs !== false}\n      />\n    </div>\n  );\n};\n\nexport const ViewerChunk: React.FC<IViewerChunkProps> = ({ options }) => {\n  return (\n    <JupyterReactTheme>\n      <ViewerInner options={options} />\n    </JupyterReactTheme>\n  );\n};\n\nexport default ViewerChunk;\n"],"names":["RenderedPlotly","Widget","constructor","options","super","this","addClass","_mimeType","mimeType","_img_el","document","createElement","className","node","appendChild","addEventListener","event","createGraph","_model","renderModel","model","hasGraphElement","Promise","resolve","png_data","data","updateImage","querySelector","hideGraph","src","showImage","el","style","display","showGraph","hideImage","layout","frames","config","height","async","Plotly","import","then","n","i","_resolveLoadingPlotly","loadingPlotly","loadPlotly","react","plot","update","addFrames","offsetWidth","offsetHeight","toImage","format","width","url","imageData","split","setData","on","onAfterShow","msg","onResize","onUpdateRequest","isVisible","redraw","Plots","resize","static","rendererFactory","safe","mimeTypes","defaultRank","createRenderer","themes","EditorThemeRegistry","languages","EditorLanguageRegistry","language","getDefaultLanguages","addLanguage","name","mime","load","ap","markdown","codeLanguages","info","findBest","rendermime","RenderMimeRegistry","initialFactories","standardRendererFactories","concat","plotlyFactory","latexTypesetter","MathJaxTypesetter","markdownParser","getMarked","factoryService","CodeMirrorEditorFactory","extensions","registry","EditorExtensionRegistry","extensionFactory","getDefaultExtensions","addExtension","factory","sharedModel","createImmutableExtension","ybinding","ytext","ysource","undoManager","editorExtensions","InputViewer","props","cell","languageInfo","id","newUuid","cell_type","codeCell","CodeCell","CodeCellModel","createStandaloneCell","contentFactory","Cell","ContentFactory","editorFactory","newInlineEditor","bind","initializeState","mimetype","_jsx","_Fragment","children","Lumino","markdownCell","MarkdownCell","showEditorForReadOnlyMarkdown","MarkdownCellModel","rawCell","RawCell","RawCellModel","Viewer","nbformat","nbformatUrl","setModel","useState","useEffect","fetch","response","text","JSON","parse","cells","map","metadata","language_info","toString","ViewerInner","content","jsx","outputs","ViewerChunk","JupyterReactTheme"],"mappings":"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"}