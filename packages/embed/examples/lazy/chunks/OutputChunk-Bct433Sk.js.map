{"version":3,"file":"OutputChunk-Bct433Sk.js","sources":["../../../react/lib/components/kernel/KernelActionMenu.js","../../../react/lib/components/kernel/KernelProgressBar.js","../../../../node_modules/codemirror/dist/index.js","../../../react/lib/components/codemirror/CodeMirrorTheme.js","../../../react/lib/components/codemirror/CodeMirrorOutputToolbar.js","../../../react/lib/components/codemirror/CodeMirrorEditor.js","../../../react/lib/components/output/OutputAdapter.js","../../../../node_modules/ansi-to-html/node_modules/entities/lib/decode_codepoint.js","../../../../node_modules/ansi-to-html/node_modules/entities/lib/decode.js","../../../../node_modules/ansi-to-html/node_modules/entities/lib/encode.js","../../../../node_modules/ansi-to-html/node_modules/entities/lib/index.js","../../../../node_modules/ansi-to-html/lib/ansi_to_html.js","../../../react/lib/components/output/OutputRenderer.js","../../../react/lib/components/output/Output.js","../../src/chunks/OutputChunk.tsx"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\n/*\n * Copyright (c) 2021-2023 Datalayer, Inc.\n *\n * MIT License\n */\nimport { ActionMenu, ActionList, IconButton } from '@primer/react';\nimport { KebabHorizontalIcon, StopIcon, PaintbrushIcon, } from '@primer/octicons-react';\nimport { RestartIcon } from '@datalayer/icons-react';\nexport const KernelActionMenu = (props) => {\n    const { kernel, outputAdapter } = props;\n    return (_jsxs(ActionMenu, { children: [_jsx(ActionMenu.Anchor, { children: _jsx(IconButton, { \"aria-labelledby\": \"\", icon: KebabHorizontalIcon, variant: \"invisible\" }) }), _jsx(ActionMenu.Overlay, { children: _jsxs(ActionList, { children: [kernel && (_jsxs(ActionList.Item, { onSelect: e => {\n                                kernel.interrupt();\n                            }, children: [_jsx(ActionList.LeadingVisual, { children: _jsx(StopIcon, {}) }), \"Interrupt kernel\"] })), kernel && (_jsxs(ActionList.Item, { onSelect: e => {\n                                kernel.restart();\n                            }, children: [_jsx(ActionList.LeadingVisual, { children: _jsx(RestartIcon, {}) }), \"Restart kernel\"] })), outputAdapter && (_jsxs(ActionList.Item, { variant: \"danger\", onSelect: e => {\n                                outputAdapter.clear();\n                            }, children: [_jsx(ActionList.LeadingVisual, { children: _jsx(PaintbrushIcon, {}) }), \"Clear outputs\"] }))] }) })] }));\n};\nexport default KernelActionMenu;\n//# sourceMappingURL=KernelActionMenu.js.map","import { jsx as _jsx } from \"react/jsx-runtime\";\n/*\n * Copyright (c) 2021-2023 Datalayer, Inc.\n *\n * MIT License\n */\nimport { useState, useEffect } from 'react';\nimport { ProgressBar } from '@primer/react';\nexport const KernelProgressBar = () => {\n    const [progress, setProgress] = useState(0);\n    useEffect(() => {\n        const interval = setInterval(() => {\n            setProgress((oldValue) => {\n                let newValue = oldValue + 1;\n                if (newValue > 100) {\n                    newValue = 0;\n                }\n                return newValue;\n            });\n        }, 100);\n        return () => clearInterval(interval);\n    }, []);\n    return _jsx(ProgressBar, { progress: progress, barSize: \"small\" });\n};\nexport default KernelProgressBar;\n//# sourceMappingURL=KernelProgressBar.js.map","import { lineNumbers, highlightActiveLineGutter, highlightSpecialChars, drawSelection, dropCursor, rectangularSelection, crosshairCursor, highlightActiveLine, keymap } from '@codemirror/view';\nexport { EditorView } from '@codemirror/view';\nimport { EditorState } from '@codemirror/state';\nimport { foldGutter, indentOnInput, syntaxHighlighting, defaultHighlightStyle, bracketMatching, foldKeymap } from '@codemirror/language';\nimport { history, defaultKeymap, historyKeymap } from '@codemirror/commands';\nimport { highlightSelectionMatches, searchKeymap } from '@codemirror/search';\nimport { closeBrackets, autocompletion, closeBracketsKeymap, completionKeymap } from '@codemirror/autocomplete';\nimport { lintKeymap } from '@codemirror/lint';\n\n// (The superfluous function calls around the list of extensions work\n// around current limitations in tree-shaking software.)\n/**\nThis is an extension value that just pulls together a number of\nextensions that you might want in a basic editor. It is meant as a\nconvenient helper to quickly set up CodeMirror without installing\nand importing a lot of separate packages.\n\nSpecifically, it includes...\n\n - [the default command bindings](https://codemirror.net/6/docs/ref/#commands.defaultKeymap)\n - [line numbers](https://codemirror.net/6/docs/ref/#view.lineNumbers)\n - [special character highlighting](https://codemirror.net/6/docs/ref/#view.highlightSpecialChars)\n - [the undo history](https://codemirror.net/6/docs/ref/#commands.history)\n - [a fold gutter](https://codemirror.net/6/docs/ref/#language.foldGutter)\n - [custom selection drawing](https://codemirror.net/6/docs/ref/#view.drawSelection)\n - [drop cursor](https://codemirror.net/6/docs/ref/#view.dropCursor)\n - [multiple selections](https://codemirror.net/6/docs/ref/#state.EditorState^allowMultipleSelections)\n - [reindentation on input](https://codemirror.net/6/docs/ref/#language.indentOnInput)\n - [the default highlight style](https://codemirror.net/6/docs/ref/#language.defaultHighlightStyle) (as fallback)\n - [bracket matching](https://codemirror.net/6/docs/ref/#language.bracketMatching)\n - [bracket closing](https://codemirror.net/6/docs/ref/#autocomplete.closeBrackets)\n - [autocompletion](https://codemirror.net/6/docs/ref/#autocomplete.autocompletion)\n - [rectangular selection](https://codemirror.net/6/docs/ref/#view.rectangularSelection) and [crosshair cursor](https://codemirror.net/6/docs/ref/#view.crosshairCursor)\n - [active line highlighting](https://codemirror.net/6/docs/ref/#view.highlightActiveLine)\n - [active line gutter highlighting](https://codemirror.net/6/docs/ref/#view.highlightActiveLineGutter)\n - [selection match highlighting](https://codemirror.net/6/docs/ref/#search.highlightSelectionMatches)\n - [search](https://codemirror.net/6/docs/ref/#search.searchKeymap)\n - [linting](https://codemirror.net/6/docs/ref/#lint.lintKeymap)\n\n(You'll probably want to add some language package to your setup\ntoo.)\n\nThis extension does not allow customization. The idea is that,\nonce you decide you want to configure your editor more precisely,\nyou take this package's source (which is just a bunch of imports\nand an array literal), copy it into your own code, and adjust it\nas desired.\n*/\nconst basicSetup = /*@__PURE__*/(() => [\n    lineNumbers(),\n    highlightActiveLineGutter(),\n    highlightSpecialChars(),\n    history(),\n    foldGutter(),\n    drawSelection(),\n    dropCursor(),\n    EditorState.allowMultipleSelections.of(true),\n    indentOnInput(),\n    syntaxHighlighting(defaultHighlightStyle, { fallback: true }),\n    bracketMatching(),\n    closeBrackets(),\n    autocompletion(),\n    rectangularSelection(),\n    crosshairCursor(),\n    highlightActiveLine(),\n    highlightSelectionMatches(),\n    keymap.of([\n        ...closeBracketsKeymap,\n        ...defaultKeymap,\n        ...searchKeymap,\n        ...historyKeymap,\n        ...foldKeymap,\n        ...completionKeymap,\n        ...lintKeymap\n    ])\n])();\n/**\nA minimal set of extensions to create a functional editor. Only\nincludes [the default keymap](https://codemirror.net/6/docs/ref/#commands.defaultKeymap), [undo\nhistory](https://codemirror.net/6/docs/ref/#commands.history), [special character\nhighlighting](https://codemirror.net/6/docs/ref/#view.highlightSpecialChars), [custom selection\ndrawing](https://codemirror.net/6/docs/ref/#view.drawSelection), and [default highlight\nstyle](https://codemirror.net/6/docs/ref/#language.defaultHighlightStyle).\n*/\nconst minimalSetup = /*@__PURE__*/(() => [\n    highlightSpecialChars(),\n    history(),\n    drawSelection(),\n    syntaxHighlighting(defaultHighlightStyle, { fallback: true }),\n    keymap.of([\n        ...defaultKeymap,\n        ...historyKeymap,\n    ])\n])();\n\nexport { basicSetup, minimalSetup };\n","/*\n * Copyright (c) 2021-2023 Datalayer, Inc.\n *\n * MIT License\n */\nimport { EditorView } from '@codemirror/view';\nconst theme = EditorView.theme({\n    '&': {\n        fontSize: '9pt',\n        border: '1px solid #c0c0c0',\n    },\n    '.cm-content': {\n        fontFamily: 'Menlo, Monaco, Lucida Console, monospace',\n        minHeight: '10px',\n    },\n    '.cm-gutters': {\n        minHeight: '10px',\n    },\n    '.cm-scroller': {\n        overflow: 'auto',\n        //    maxHeight: \"600px\"\n    },\n}, { dark: false });\nexport const codeMirrorTheme = [theme];\nexport default codeMirrorTheme;\n//# sourceMappingURL=CodeMirrorTheme.js.map","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\n/*\n * Copyright (c) 2021-2023 Datalayer, Inc.\n *\n * MIT License\n */\nimport { useEffect, useState, useMemo } from 'react';\nimport { useTheme, ActionMenu, ActionList, IconButton, Box, } from '@primer/react';\nimport { KebabHorizontalIcon, ArrowRightIcon, StopIcon, PaintbrushIcon, } from '@primer/octicons-react';\nconst CodeMirrorOutputToolbarMenu = (props) => {\n    const { executeCode, outputAdapter, editorView } = props;\n    return (_jsxs(ActionMenu, { children: [_jsx(ActionMenu.Anchor, { children: _jsx(IconButton, { \"aria-labelledby\": \"\", icon: KebabHorizontalIcon, variant: \"invisible\" }) }), _jsx(ActionMenu.Overlay, { children: _jsxs(ActionList, { children: [_jsxs(ActionList.Item, { onSelect: e => {\n                                e.preventDefault();\n                                executeCode(editorView);\n                            }, children: [_jsx(ActionList.LeadingVisual, { children: _jsx(ArrowRightIcon, {}) }), _jsx(ActionList.TrailingVisual, { children: \"\\u21E7 \\u21B5\" }), \"Run code\"] }), _jsxs(ActionList.Item, { onSelect: e => {\n                                e.preventDefault();\n                                outputAdapter.interrupt();\n                            }, children: [_jsx(ActionList.LeadingVisual, { children: _jsx(StopIcon, {}) }), \"Interrupt kernel\"] }), _jsxs(ActionList.Item, { variant: \"danger\", onClick: e => {\n                                e.preventDefault();\n                                outputAdapter.clear();\n                            }, children: [_jsx(ActionList.LeadingVisual, { children: _jsx(PaintbrushIcon, {}) }), \"Clear outputs\"] })] }) })] }));\n};\nconst KernelStatus = ({ color }) => (_jsx(Box, { sx: {\n        backgroundColor: color,\n        width: '14px',\n        height: '14px',\n        borderRadius: 3,\n    } }));\nexport const CodeMirrorOutputToolbar = (props) => {\n    const { executeCode, editorView, kernel, codePre } = props;\n    const { theme } = useTheme();\n    const okColor = useMemo(() => theme?.colorSchemes.light.colors.success.muted, []);\n    const nokColor = useMemo(() => theme?.colorSchemes.light.colors.severe.muted, []);\n    const [kernelStatus, setKernelStatus] = useState('unknown');\n    useEffect(() => {\n        if (kernel) {\n            kernel.ready.then(() => {\n                if (codePre) {\n                    executeCode(editorView, codePre);\n                }\n                setKernelStatus(kernel.connection.status);\n                kernel.connection.statusChanged.connect((kernelConnection, status) => {\n                    setKernelStatus(status);\n                });\n            });\n        }\n    }, [kernel]);\n    const getKernelStatusColor = (status) => {\n        if (status === 'idle') {\n            return okColor;\n        }\n        return nokColor;\n    };\n    return (_jsxs(Box, { display: \"flex\", children: [_jsx(Box, { flexGrow: 1 }), _jsx(Box, { sx: { paddingTop: '6px' }, children: _jsx(KernelStatus, { color: getKernelStatusColor(kernelStatus) }) }), _jsx(Box, { children: _jsx(CodeMirrorOutputToolbarMenu, { ...props }) })] }));\n};\nexport default CodeMirrorOutputToolbar;\n//# sourceMappingURL=CodeMirrorOutputToolbar.js.map","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\n/*\n * Copyright (c) 2021-2023 Datalayer, Inc.\n *\n * MIT License\n */\nimport { useState, useRef, useEffect } from 'react';\nimport { basicSetup } from 'codemirror';\nimport { EditorState, Prec } from '@codemirror/state';\nimport { keymap, EditorView } from '@codemirror/view';\nimport { Compartment } from '@codemirror/state';\nimport { python } from '@codemirror/lang-python';\nimport useOutputsStore from '../output/OutputState';\nimport codeMirrorTheme from './CodeMirrorTheme';\nimport CodeMirrorOutputToolbar from './CodeMirrorOutputToolbar';\nexport const CodeMirrorEditor = (props) => {\n    const { code, codePre, outputAdapter, autoRun, disableRun, sourceId, toolbarPosition, insertText, kernel, } = props;\n    const outputStore = useOutputsStore();\n    const [view, setView] = useState();\n    const dataset = outputStore.getDataset(sourceId);\n    const source = outputStore.getInput(sourceId);\n    const editorDiv = useRef();\n    const setEditorSource = (source) => {\n        if (view && source) {\n            view.dispatch({\n                changes: {\n                    from: 0,\n                    to: view.state.doc.length,\n                    insert: source,\n                },\n            });\n        }\n    };\n    const doInsertText = (payload) => {\n        if (view && insertText) {\n            view.dispatch({\n                changes: {\n                    from: 0,\n                    insert: insertText(payload),\n                },\n            });\n        }\n    };\n    const executeCode = (editorView, code) => {\n        if (disableRun) {\n            alert('Code execution is disabled for this editor. There should be a button on the page to run this editor.');\n            return true;\n        }\n        if (code) {\n            outputAdapter.execute(code);\n        }\n        else {\n            outputAdapter.execute(editorView.state.doc.toString());\n        }\n        return true;\n    };\n    useEffect(() => {\n        outputStore.setInput(sourceId, code);\n        const language = new Compartment();\n        const state = EditorState.create({\n            doc: code,\n            extensions: [\n                Prec.highest(keymap.of([\n                    {\n                        key: 'Shift-Enter',\n                        run: (view) => {\n                            return executeCode(view);\n                        },\n                        preventDefault: true,\n                    },\n                ])),\n                basicSetup,\n                language.of(python()),\n                EditorView.lineWrapping,\n                codeMirrorTheme,\n                EditorView.updateListener.of((viewUpdate) => {\n                    if (viewUpdate.docChanged) {\n                        const source = viewUpdate.state.doc.toString();\n                        outputStore.setInput(sourceId, source);\n                    }\n                }),\n            ],\n        });\n        const editorView = new EditorView({\n            state: state,\n            parent: editorDiv.current,\n        });\n        setView(editorView);\n        if (autoRun) {\n            executeCode(editorView);\n        }\n        return () => {\n            editorView.destroy();\n        };\n    }, [code]);\n    useEffect(() => {\n        doInsertText(dataset);\n    }, [dataset]);\n    useEffect(() => {\n        setEditorSource(source);\n    }, [source]);\n    return (_jsxs(_Fragment, { children: [kernel && toolbarPosition === 'up' && (_jsx(CodeMirrorOutputToolbar, { editorView: view, codePre: codePre, kernel: kernel, outputAdapter: outputAdapter, executeCode: executeCode })), _jsx(\"div\", { ref: editorDiv }), kernel && toolbarPosition === 'middle' && (_jsx(CodeMirrorOutputToolbar, { editorView: view, codePre: codePre, kernel: kernel, outputAdapter: outputAdapter, executeCode: executeCode }))] }));\n};\n// Deprecated: Use CodeMirrorEditor instead of CodeMirrorDatalayerEditor\nexport const CodeMirrorDatalayerEditor = CodeMirrorEditor;\nexport default CodeMirrorEditor;\n//# sourceMappingURL=CodeMirrorEditor.js.map","/*\n * Copyright (c) 2021-2023 Datalayer, Inc.\n *\n * MIT License\n */\nimport { rendererFactory as javascriptRendererFactory } from '@jupyterlab/javascript-extension';\nimport { rendererFactory as jsonRendererFactory } from '@jupyterlab/json-extension';\nimport { OutputArea, OutputAreaModel, } from '@jupyterlab/outputarea';\nimport { RenderMimeRegistry, standardRendererFactories, } from '@jupyterlab/rendermime';\nimport { ClassicWidgetManager, WidgetRenderer, WIDGET_MIMETYPE, } from '../../jupyter/ipywidgets/classic';\nimport { requireLoader as loader } from '../../jupyter/ipywidgets/libembed-amd';\nimport { execute } from './OutputExecutor';\nexport class OutputAdapter {\n    _id;\n    _kernel;\n    _renderers;\n    _outputArea;\n    _rendermime;\n    _iPyWidgetsManager;\n    _suppressCodeExecutionErrors;\n    constructor(id, kernel, outputs, outputAreaModel, suppressCodeExecutionErrors = false) {\n        this._id = id;\n        this._kernel = kernel;\n        this._suppressCodeExecutionErrors = suppressCodeExecutionErrors;\n        this._renderers = standardRendererFactories.filter(factory => factory.mimeTypes[0] !== 'text/javascript');\n        this._renderers.push(jsonRendererFactory);\n        this._renderers.push(javascriptRendererFactory);\n        this._rendermime = new RenderMimeRegistry({\n            initialFactories: this._renderers,\n        });\n        this._iPyWidgetsManager = new ClassicWidgetManager({ loader });\n        this._rendermime.addFactory({\n            safe: false,\n            mimeTypes: [WIDGET_MIMETYPE],\n            createRenderer: (options) => new WidgetRenderer(options, this._iPyWidgetsManager),\n        }, 0);\n        // const widgetRegistry = activateWidgetExtension(this._rendermime);\n        // activatePlotlyWidgetExtension(widgetRegistry);\n        const model = outputAreaModel ??\n            new OutputAreaModel({\n                trusted: true,\n                values: outputs,\n            });\n        this._outputArea = new OutputArea({\n            model,\n            rendermime: this._rendermime,\n        });\n        if (outputs && outputs[0]) {\n            const data = outputs[0].data;\n            if (data) {\n                const isPlotly = data['application/vnd.plotly.v1+json'];\n                if (isPlotly) {\n                    let script = this._outputArea.node.children[0].children[1].children[0]\n                        .children[1].innerHTML;\n                    script = script.replaceAll('\\n,', '\\n');\n                    eval(script);\n                }\n            }\n        }\n        this.initKernel();\n    }\n    async execute(code, onExecutionPhaseChanged) {\n        if (this._kernel) {\n            this.clear();\n            const metadata = {};\n            await this._iPyWidgetsManager.ready.promise;\n            if (this._kernel) {\n                this._iPyWidgetsManager.registerWithKernel(this._kernel.connection);\n                const done = execute(this._id, code, this._outputArea, this._kernel, metadata, this._suppressCodeExecutionErrors, onExecutionPhaseChanged);\n                await done;\n            }\n        }\n    }\n    interrupt() {\n        if (this._kernel) {\n            this._kernel.interrupt();\n        }\n    }\n    clear() {\n        this._outputArea.model.clear();\n    }\n    setOutputs(outputs) {\n        this._outputArea.model.clear();\n        outputs.forEach(output => {\n            this._outputArea.model.add(output);\n        });\n    }\n    get kernel() {\n        return this._kernel;\n    }\n    set kernel(kernel) {\n        this._kernel = kernel;\n        this.initKernel();\n    }\n    get outputArea() {\n        return this._outputArea;\n    }\n    async initKernel() {\n        await this._iPyWidgetsManager.ready.promise;\n        if (this._kernel) {\n            this._iPyWidgetsManager.registerWithKernel(this._kernel.connection);\n        }\n    }\n}\nexport default OutputAdapter;\n//# sourceMappingURL=OutputAdapter.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar decode_json_1 = __importDefault(require(\"./maps/decode.json\"));\n// Adapted from https://github.com/mathiasbynens/he/blob/master/src/he.js#L94-L119\nvar fromCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\nString.fromCodePoint ||\n    function (codePoint) {\n        var output = \"\";\n        if (codePoint > 0xffff) {\n            codePoint -= 0x10000;\n            output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);\n            codePoint = 0xdc00 | (codePoint & 0x3ff);\n        }\n        output += String.fromCharCode(codePoint);\n        return output;\n    };\nfunction decodeCodePoint(codePoint) {\n    if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {\n        return \"\\uFFFD\";\n    }\n    if (codePoint in decode_json_1.default) {\n        codePoint = decode_json_1.default[codePoint];\n    }\n    return fromCodePoint(codePoint);\n}\nexports.default = decodeCodePoint;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeHTML = exports.decodeHTMLStrict = exports.decodeXML = void 0;\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\nvar legacy_json_1 = __importDefault(require(\"./maps/legacy.json\"));\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\nvar decode_codepoint_1 = __importDefault(require(\"./decode_codepoint\"));\nvar strictEntityRe = /&(?:[a-zA-Z0-9]+|#[xX][\\da-fA-F]+|#\\d+);/g;\nexports.decodeXML = getStrictDecoder(xml_json_1.default);\nexports.decodeHTMLStrict = getStrictDecoder(entities_json_1.default);\nfunction getStrictDecoder(map) {\n    var replace = getReplacer(map);\n    return function (str) { return String(str).replace(strictEntityRe, replace); };\n}\nvar sorter = function (a, b) { return (a < b ? 1 : -1); };\nexports.decodeHTML = (function () {\n    var legacy = Object.keys(legacy_json_1.default).sort(sorter);\n    var keys = Object.keys(entities_json_1.default).sort(sorter);\n    for (var i = 0, j = 0; i < keys.length; i++) {\n        if (legacy[j] === keys[i]) {\n            keys[i] += \";?\";\n            j++;\n        }\n        else {\n            keys[i] += \";\";\n        }\n    }\n    var re = new RegExp(\"&(?:\" + keys.join(\"|\") + \"|#[xX][\\\\da-fA-F]+;?|#\\\\d+;?)\", \"g\");\n    var replace = getReplacer(entities_json_1.default);\n    function replacer(str) {\n        if (str.substr(-1) !== \";\")\n            str += \";\";\n        return replace(str);\n    }\n    // TODO consider creating a merged map\n    return function (str) { return String(str).replace(re, replacer); };\n})();\nfunction getReplacer(map) {\n    return function replace(str) {\n        if (str.charAt(1) === \"#\") {\n            var secondChar = str.charAt(2);\n            if (secondChar === \"X\" || secondChar === \"x\") {\n                return decode_codepoint_1.default(parseInt(str.substr(3), 16));\n            }\n            return decode_codepoint_1.default(parseInt(str.substr(2), 10));\n        }\n        // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n        return map[str.slice(1, -1)] || str;\n    };\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.escapeUTF8 = exports.escape = exports.encodeNonAsciiHTML = exports.encodeHTML = exports.encodeXML = void 0;\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\nvar inverseXML = getInverseObj(xml_json_1.default);\nvar xmlReplacer = getInverseReplacer(inverseXML);\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in XML\n * documents using XML entities.\n *\n * If a character has no equivalent entity, a\n * numeric hexadecimal reference (eg. `&#xfc;`) will be used.\n */\nexports.encodeXML = getASCIIEncoder(inverseXML);\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\nvar inverseHTML = getInverseObj(entities_json_1.default);\nvar htmlReplacer = getInverseReplacer(inverseHTML);\n/**\n * Encodes all entities and non-ASCII characters in the input.\n *\n * This includes characters that are valid ASCII characters in HTML documents.\n * For example `#` will be encoded as `&num;`. To get a more compact output,\n * consider using the `encodeNonAsciiHTML` function.\n *\n * If a character has no equivalent entity, a\n * numeric hexadecimal reference (eg. `&#xfc;`) will be used.\n */\nexports.encodeHTML = getInverse(inverseHTML, htmlReplacer);\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in HTML\n * documents using HTML entities.\n *\n * If a character has no equivalent entity, a\n * numeric hexadecimal reference (eg. `&#xfc;`) will be used.\n */\nexports.encodeNonAsciiHTML = getASCIIEncoder(inverseHTML);\nfunction getInverseObj(obj) {\n    return Object.keys(obj)\n        .sort()\n        .reduce(function (inverse, name) {\n        inverse[obj[name]] = \"&\" + name + \";\";\n        return inverse;\n    }, {});\n}\nfunction getInverseReplacer(inverse) {\n    var single = [];\n    var multiple = [];\n    for (var _i = 0, _a = Object.keys(inverse); _i < _a.length; _i++) {\n        var k = _a[_i];\n        if (k.length === 1) {\n            // Add value to single array\n            single.push(\"\\\\\" + k);\n        }\n        else {\n            // Add value to multiple array\n            multiple.push(k);\n        }\n    }\n    // Add ranges to single characters.\n    single.sort();\n    for (var start = 0; start < single.length - 1; start++) {\n        // Find the end of a run of characters\n        var end = start;\n        while (end < single.length - 1 &&\n            single[end].charCodeAt(1) + 1 === single[end + 1].charCodeAt(1)) {\n            end += 1;\n        }\n        var count = 1 + end - start;\n        // We want to replace at least three characters\n        if (count < 3)\n            continue;\n        single.splice(start, count, single[start] + \"-\" + single[end]);\n    }\n    multiple.unshift(\"[\" + single.join(\"\") + \"]\");\n    return new RegExp(multiple.join(\"|\"), \"g\");\n}\n// /[^\\0-\\x7F]/gu\nvar reNonASCII = /(?:[\\x80-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g;\nvar getCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\nString.prototype.codePointAt != null\n    ? // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        function (str) { return str.codePointAt(0); }\n    : // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n        function (c) {\n            return (c.charCodeAt(0) - 0xd800) * 0x400 +\n                c.charCodeAt(1) -\n                0xdc00 +\n                0x10000;\n        };\nfunction singleCharReplacer(c) {\n    return \"&#x\" + (c.length > 1 ? getCodePoint(c) : c.charCodeAt(0))\n        .toString(16)\n        .toUpperCase() + \";\";\n}\nfunction getInverse(inverse, re) {\n    return function (data) {\n        return data\n            .replace(re, function (name) { return inverse[name]; })\n            .replace(reNonASCII, singleCharReplacer);\n    };\n}\nvar reEscapeChars = new RegExp(xmlReplacer.source + \"|\" + reNonASCII.source, \"g\");\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in XML\n * documents using numeric hexadecimal reference (eg. `&#xfc;`).\n *\n * Have a look at `escapeUTF8` if you want a more concise output at the expense\n * of reduced transportability.\n *\n * @param data String to escape.\n */\nfunction escape(data) {\n    return data.replace(reEscapeChars, singleCharReplacer);\n}\nexports.escape = escape;\n/**\n * Encodes all characters not valid in XML documents using numeric hexadecimal\n * reference (eg. `&#xfc;`).\n *\n * Note that the output will be character-set dependent.\n *\n * @param data String to escape.\n */\nfunction escapeUTF8(data) {\n    return data.replace(xmlReplacer, singleCharReplacer);\n}\nexports.escapeUTF8 = escapeUTF8;\nfunction getASCIIEncoder(obj) {\n    return function (data) {\n        return data.replace(reEscapeChars, function (c) { return obj[c] || singleCharReplacer(c); });\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeXMLStrict = exports.decodeHTML5Strict = exports.decodeHTML4Strict = exports.decodeHTML5 = exports.decodeHTML4 = exports.decodeHTMLStrict = exports.decodeHTML = exports.decodeXML = exports.encodeHTML5 = exports.encodeHTML4 = exports.escapeUTF8 = exports.escape = exports.encodeNonAsciiHTML = exports.encodeHTML = exports.encodeXML = exports.encode = exports.decodeStrict = exports.decode = void 0;\nvar decode_1 = require(\"./decode\");\nvar encode_1 = require(\"./encode\");\n/**\n * Decodes a string with entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n * @deprecated Use `decodeXML` or `decodeHTML` directly.\n */\nfunction decode(data, level) {\n    return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTML)(data);\n}\nexports.decode = decode;\n/**\n * Decodes a string with entities. Does not allow missing trailing semicolons for entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n * @deprecated Use `decodeHTMLStrict` or `decodeXML` directly.\n */\nfunction decodeStrict(data, level) {\n    return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTMLStrict)(data);\n}\nexports.decodeStrict = decodeStrict;\n/**\n * Encodes a string with entities.\n *\n * @param data String to encode.\n * @param level Optional level to encode at. 0 = XML, 1 = HTML. Default is 0.\n * @deprecated Use `encodeHTML`, `encodeXML` or `encodeNonAsciiHTML` directly.\n */\nfunction encode(data, level) {\n    return (!level || level <= 0 ? encode_1.encodeXML : encode_1.encodeHTML)(data);\n}\nexports.encode = encode;\nvar encode_2 = require(\"./encode\");\nObject.defineProperty(exports, \"encodeXML\", { enumerable: true, get: function () { return encode_2.encodeXML; } });\nObject.defineProperty(exports, \"encodeHTML\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nObject.defineProperty(exports, \"encodeNonAsciiHTML\", { enumerable: true, get: function () { return encode_2.encodeNonAsciiHTML; } });\nObject.defineProperty(exports, \"escape\", { enumerable: true, get: function () { return encode_2.escape; } });\nObject.defineProperty(exports, \"escapeUTF8\", { enumerable: true, get: function () { return encode_2.escapeUTF8; } });\n// Legacy aliases (deprecated)\nObject.defineProperty(exports, \"encodeHTML4\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nObject.defineProperty(exports, \"encodeHTML5\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nvar decode_2 = require(\"./decode\");\nObject.defineProperty(exports, \"decodeXML\", { enumerable: true, get: function () { return decode_2.decodeXML; } });\nObject.defineProperty(exports, \"decodeHTML\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTMLStrict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\n// Legacy aliases (deprecated)\nObject.defineProperty(exports, \"decodeHTML4\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML5\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML4Strict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeHTML5Strict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeXMLStrict\", { enumerable: true, get: function () { return decode_2.decodeXML; } });\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar entities = require('entities');\n\nvar defaults = {\n  fg: '#FFF',\n  bg: '#000',\n  newline: false,\n  escapeXML: false,\n  stream: false,\n  colors: getDefaultColors()\n};\n\nfunction getDefaultColors() {\n  var colors = {\n    0: '#000',\n    1: '#A00',\n    2: '#0A0',\n    3: '#A50',\n    4: '#00A',\n    5: '#A0A',\n    6: '#0AA',\n    7: '#AAA',\n    8: '#555',\n    9: '#F55',\n    10: '#5F5',\n    11: '#FF5',\n    12: '#55F',\n    13: '#F5F',\n    14: '#5FF',\n    15: '#FFF'\n  };\n  range(0, 5).forEach(function (red) {\n    range(0, 5).forEach(function (green) {\n      range(0, 5).forEach(function (blue) {\n        return setStyleColor(red, green, blue, colors);\n      });\n    });\n  });\n  range(0, 23).forEach(function (gray) {\n    var c = gray + 232;\n    var l = toHexString(gray * 10 + 8);\n    colors[c] = '#' + l + l + l;\n  });\n  return colors;\n}\n/**\n * @param {number} red\n * @param {number} green\n * @param {number} blue\n * @param {object} colors\n */\n\n\nfunction setStyleColor(red, green, blue, colors) {\n  var c = 16 + red * 36 + green * 6 + blue;\n  var r = red > 0 ? red * 40 + 55 : 0;\n  var g = green > 0 ? green * 40 + 55 : 0;\n  var b = blue > 0 ? blue * 40 + 55 : 0;\n  colors[c] = toColorHexString([r, g, b]);\n}\n/**\n * Converts from a number like 15 to a hex string like 'F'\n * @param {number} num\n * @returns {string}\n */\n\n\nfunction toHexString(num) {\n  var str = num.toString(16);\n\n  while (str.length < 2) {\n    str = '0' + str;\n  }\n\n  return str;\n}\n/**\n * Converts from an array of numbers like [15, 15, 15] to a hex string like 'FFF'\n * @param {[red, green, blue]} ref\n * @returns {string}\n */\n\n\nfunction toColorHexString(ref) {\n  var results = [];\n\n  var _iterator = _createForOfIteratorHelper(ref),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var r = _step.value;\n      results.push(toHexString(r));\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return '#' + results.join('');\n}\n/**\n * @param {Array} stack\n * @param {string} token\n * @param {*} data\n * @param {object} options\n */\n\n\nfunction generateOutput(stack, token, data, options) {\n  var result;\n\n  if (token === 'text') {\n    result = pushText(data, options);\n  } else if (token === 'display') {\n    result = handleDisplay(stack, data, options);\n  } else if (token === 'xterm256Foreground') {\n    result = pushForegroundColor(stack, options.colors[data]);\n  } else if (token === 'xterm256Background') {\n    result = pushBackgroundColor(stack, options.colors[data]);\n  } else if (token === 'rgb') {\n    result = handleRgb(stack, data);\n  }\n\n  return result;\n}\n/**\n * @param {Array} stack\n * @param {string} data\n * @returns {*}\n */\n\n\nfunction handleRgb(stack, data) {\n  data = data.substring(2).slice(0, -1);\n  var operation = +data.substr(0, 2);\n  var color = data.substring(5).split(';');\n  var rgb = color.map(function (value) {\n    return ('0' + Number(value).toString(16)).substr(-2);\n  }).join('');\n  return pushStyle(stack, (operation === 38 ? 'color:#' : 'background-color:#') + rgb);\n}\n/**\n * @param {Array} stack\n * @param {number} code\n * @param {object} options\n * @returns {*}\n */\n\n\nfunction handleDisplay(stack, code, options) {\n  code = parseInt(code, 10);\n  var codeMap = {\n    '-1': function _() {\n      return '<br/>';\n    },\n    0: function _() {\n      return stack.length && resetStyles(stack);\n    },\n    1: function _() {\n      return pushTag(stack, 'b');\n    },\n    3: function _() {\n      return pushTag(stack, 'i');\n    },\n    4: function _() {\n      return pushTag(stack, 'u');\n    },\n    8: function _() {\n      return pushStyle(stack, 'display:none');\n    },\n    9: function _() {\n      return pushTag(stack, 'strike');\n    },\n    22: function _() {\n      return pushStyle(stack, 'font-weight:normal;text-decoration:none;font-style:normal');\n    },\n    23: function _() {\n      return closeTag(stack, 'i');\n    },\n    24: function _() {\n      return closeTag(stack, 'u');\n    },\n    39: function _() {\n      return pushForegroundColor(stack, options.fg);\n    },\n    49: function _() {\n      return pushBackgroundColor(stack, options.bg);\n    },\n    53: function _() {\n      return pushStyle(stack, 'text-decoration:overline');\n    }\n  };\n  var result;\n\n  if (codeMap[code]) {\n    result = codeMap[code]();\n  } else if (4 < code && code < 7) {\n    result = pushTag(stack, 'blink');\n  } else if (29 < code && code < 38) {\n    result = pushForegroundColor(stack, options.colors[code - 30]);\n  } else if (39 < code && code < 48) {\n    result = pushBackgroundColor(stack, options.colors[code - 40]);\n  } else if (89 < code && code < 98) {\n    result = pushForegroundColor(stack, options.colors[8 + (code - 90)]);\n  } else if (99 < code && code < 108) {\n    result = pushBackgroundColor(stack, options.colors[8 + (code - 100)]);\n  }\n\n  return result;\n}\n/**\n * Clear all the styles\n * @returns {string}\n */\n\n\nfunction resetStyles(stack) {\n  var stackClone = stack.slice(0);\n  stack.length = 0;\n  return stackClone.reverse().map(function (tag) {\n    return '</' + tag + '>';\n  }).join('');\n}\n/**\n * Creates an array of numbers ranging from low to high\n * @param {number} low\n * @param {number} high\n * @returns {Array}\n * @example range(3, 7); // creates [3, 4, 5, 6, 7]\n */\n\n\nfunction range(low, high) {\n  var results = [];\n\n  for (var j = low; j <= high; j++) {\n    results.push(j);\n  }\n\n  return results;\n}\n/**\n * Returns a new function that is true if value is NOT the same category\n * @param {string} category\n * @returns {function}\n */\n\n\nfunction notCategory(category) {\n  return function (e) {\n    return (category === null || e.category !== category) && category !== 'all';\n  };\n}\n/**\n * Converts a code into an ansi token type\n * @param {number} code\n * @returns {string}\n */\n\n\nfunction categoryForCode(code) {\n  code = parseInt(code, 10);\n  var result = null;\n\n  if (code === 0) {\n    result = 'all';\n  } else if (code === 1) {\n    result = 'bold';\n  } else if (2 < code && code < 5) {\n    result = 'underline';\n  } else if (4 < code && code < 7) {\n    result = 'blink';\n  } else if (code === 8) {\n    result = 'hide';\n  } else if (code === 9) {\n    result = 'strike';\n  } else if (29 < code && code < 38 || code === 39 || 89 < code && code < 98) {\n    result = 'foreground-color';\n  } else if (39 < code && code < 48 || code === 49 || 99 < code && code < 108) {\n    result = 'background-color';\n  }\n\n  return result;\n}\n/**\n * @param {string} text\n * @param {object} options\n * @returns {string}\n */\n\n\nfunction pushText(text, options) {\n  if (options.escapeXML) {\n    return entities.encodeXML(text);\n  }\n\n  return text;\n}\n/**\n * @param {Array} stack\n * @param {string} tag\n * @param {string} [style='']\n * @returns {string}\n */\n\n\nfunction pushTag(stack, tag, style) {\n  if (!style) {\n    style = '';\n  }\n\n  stack.push(tag);\n  return \"<\".concat(tag).concat(style ? \" style=\\\"\".concat(style, \"\\\"\") : '', \">\");\n}\n/**\n * @param {Array} stack\n * @param {string} style\n * @returns {string}\n */\n\n\nfunction pushStyle(stack, style) {\n  return pushTag(stack, 'span', style);\n}\n\nfunction pushForegroundColor(stack, color) {\n  return pushTag(stack, 'span', 'color:' + color);\n}\n\nfunction pushBackgroundColor(stack, color) {\n  return pushTag(stack, 'span', 'background-color:' + color);\n}\n/**\n * @param {Array} stack\n * @param {string} style\n * @returns {string}\n */\n\n\nfunction closeTag(stack, style) {\n  var last;\n\n  if (stack.slice(-1)[0] === style) {\n    last = stack.pop();\n  }\n\n  if (last) {\n    return '</' + style + '>';\n  }\n}\n/**\n * @param {string} text\n * @param {object} options\n * @param {function} callback\n * @returns {Array}\n */\n\n\nfunction tokenize(text, options, callback) {\n  var ansiMatch = false;\n  var ansiHandler = 3;\n\n  function remove() {\n    return '';\n  }\n\n  function removeXterm256Foreground(m, g1) {\n    callback('xterm256Foreground', g1);\n    return '';\n  }\n\n  function removeXterm256Background(m, g1) {\n    callback('xterm256Background', g1);\n    return '';\n  }\n\n  function newline(m) {\n    if (options.newline) {\n      callback('display', -1);\n    } else {\n      callback('text', m);\n    }\n\n    return '';\n  }\n\n  function ansiMess(m, g1) {\n    ansiMatch = true;\n\n    if (g1.trim().length === 0) {\n      g1 = '0';\n    }\n\n    g1 = g1.trimRight(';').split(';');\n\n    var _iterator2 = _createForOfIteratorHelper(g1),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var g = _step2.value;\n        callback('display', g);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    return '';\n  }\n\n  function realText(m) {\n    callback('text', m);\n    return '';\n  }\n\n  function rgb(m) {\n    callback('rgb', m);\n    return '';\n  }\n  /* eslint no-control-regex:0 */\n\n\n  var tokens = [{\n    pattern: /^\\x08+/,\n    sub: remove\n  }, {\n    pattern: /^\\x1b\\[[012]?K/,\n    sub: remove\n  }, {\n    pattern: /^\\x1b\\[\\(B/,\n    sub: remove\n  }, {\n    pattern: /^\\x1b\\[[34]8;2;\\d+;\\d+;\\d+m/,\n    sub: rgb\n  }, {\n    pattern: /^\\x1b\\[38;5;(\\d+)m/,\n    sub: removeXterm256Foreground\n  }, {\n    pattern: /^\\x1b\\[48;5;(\\d+)m/,\n    sub: removeXterm256Background\n  }, {\n    pattern: /^\\n/,\n    sub: newline\n  }, {\n    pattern: /^\\r+\\n/,\n    sub: newline\n  }, {\n    pattern: /^\\r/,\n    sub: newline\n  }, {\n    pattern: /^\\x1b\\[((?:\\d{1,3};?)+|)m/,\n    sub: ansiMess\n  }, {\n    // CSI n J\n    // ED - Erase in Display Clears part of the screen.\n    // If n is 0 (or missing), clear from cursor to end of screen.\n    // If n is 1, clear from cursor to beginning of the screen.\n    // If n is 2, clear entire screen (and moves cursor to upper left on DOS ANSI.SYS).\n    // If n is 3, clear entire screen and delete all lines saved in the scrollback buffer\n    //   (this feature was added for xterm and is supported by other terminal applications).\n    pattern: /^\\x1b\\[\\d?J/,\n    sub: remove\n  }, {\n    // CSI n ; m f\n    // HVP - Horizontal Vertical Position Same as CUP\n    pattern: /^\\x1b\\[\\d{0,3};\\d{0,3}f/,\n    sub: remove\n  }, {\n    // catch-all for CSI sequences?\n    pattern: /^\\x1b\\[?[\\d;]{0,3}/,\n    sub: remove\n  }, {\n    /**\n     * extracts real text - not containing:\n     * - `\\x1b' - ESC - escape (Ascii 27)\n     * - '\\x08' - BS - backspace (Ascii 8)\n     * - `\\n` - Newline - linefeed (LF) (ascii 10)\n     * - `\\r` - Windows Carriage Return (CR)\n     */\n    pattern: /^(([^\\x1b\\x08\\r\\n])+)/,\n    sub: realText\n  }];\n\n  function process(handler, i) {\n    if (i > ansiHandler && ansiMatch) {\n      return;\n    }\n\n    ansiMatch = false;\n    text = text.replace(handler.pattern, handler.sub);\n  }\n\n  var results1 = [];\n  var _text = text,\n      length = _text.length;\n\n  outer: while (length > 0) {\n    for (var i = 0, o = 0, len = tokens.length; o < len; i = ++o) {\n      var handler = tokens[i];\n      process(handler, i);\n\n      if (text.length !== length) {\n        // We matched a token and removed it from the text. We need to\n        // start matching *all* tokens against the new text.\n        length = text.length;\n        continue outer;\n      }\n    }\n\n    if (text.length === length) {\n      break;\n    }\n\n    results1.push(0);\n    length = text.length;\n  }\n\n  return results1;\n}\n/**\n * If streaming, then the stack is \"sticky\"\n *\n * @param {Array} stickyStack\n * @param {string} token\n * @param {*} data\n * @returns {Array}\n */\n\n\nfunction updateStickyStack(stickyStack, token, data) {\n  if (token !== 'text') {\n    stickyStack = stickyStack.filter(notCategory(categoryForCode(data)));\n    stickyStack.push({\n      token: token,\n      data: data,\n      category: categoryForCode(data)\n    });\n  }\n\n  return stickyStack;\n}\n\nvar Filter = /*#__PURE__*/function () {\n  /**\n   * @param {object} options\n   * @param {string=} options.fg The default foreground color used when reset color codes are encountered.\n   * @param {string=} options.bg The default background color used when reset color codes are encountered.\n   * @param {boolean=} options.newline Convert newline characters to `<br/>`.\n   * @param {boolean=} options.escapeXML Generate HTML/XML entities.\n   * @param {boolean=} options.stream Save style state across invocations of `toHtml()`.\n   * @param {(string[] | {[code: number]: string})=} options.colors Can override specific colors or the entire ANSI palette.\n   */\n  function Filter(options) {\n    _classCallCheck(this, Filter);\n\n    options = options || {};\n\n    if (options.colors) {\n      options.colors = Object.assign({}, defaults.colors, options.colors);\n    }\n\n    this.options = Object.assign({}, defaults, options);\n    this.stack = [];\n    this.stickyStack = [];\n  }\n  /**\n   * @param {string | string[]} input\n   * @returns {string}\n   */\n\n\n  _createClass(Filter, [{\n    key: \"toHtml\",\n    value: function toHtml(input) {\n      var _this = this;\n\n      input = typeof input === 'string' ? [input] : input;\n      var stack = this.stack,\n          options = this.options;\n      var buf = [];\n      this.stickyStack.forEach(function (element) {\n        var output = generateOutput(stack, element.token, element.data, options);\n\n        if (output) {\n          buf.push(output);\n        }\n      });\n      tokenize(input.join(''), options, function (token, data) {\n        var output = generateOutput(stack, token, data, options);\n\n        if (output) {\n          buf.push(output);\n        }\n\n        if (options.stream) {\n          _this.stickyStack = updateStickyStack(_this.stickyStack, token, data);\n        }\n      });\n\n      if (stack.length) {\n        buf.push(resetStyles(stack));\n      }\n\n      return buf.join('');\n    }\n  }]);\n\n  return Filter;\n}();\n\nmodule.exports = Filter;\n//# sourceMappingURL=ansi_to_html.js.map","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport AnsiToHtml from 'ansi-to-html';\nconst ansiConverter = new AnsiToHtml({\n    fg: '#000',\n    bg: '#fff',\n    newline: false,\n    escapeXML: false,\n});\n/*\n{\n    \"execution_count\": 2,\n    \"output_type\": \"execute_result\",\n    \"data\": {\n        \"text/plain\": \"IntSlider(value=7, max=10)\",\n        \"application/vnd.jupyter.widget-view+json\": {\n            \"version_major\": 2,\n            \"version_minor\": 0,\n            \"model_id\": \"cf2eac02dda44b08befe1657e1de73a2\"\n        }\n    },\n    \"metadata\": {}\n}\n{\n    \"name\": \"stdout\",\n    \"text\": \"1\\n1\\n\",\n    \"output_type\": \"stream\"\n}\n{\n    \"traceback\": [\n        \"\\u001b[0;36m  Input \\u001b[0;32mIn [4]\\u001b[0;36m\\u001b[0m\\n\\u001b[0;31m    x=1sdfsq\\u001b[0m\\n\\u001b[0m      ^\\u001b[0m\\n\\u001b[0;31mSyntaxError\\u001b[0m\\u001b[0;31m:\\u001b[0m invalid decimal literal\\n\"\n    ],\n    \"ename\": \"SyntaxError\",\n    \"evalue\": \"invalid decimal literal (2376046737.py, line 1)\",\n    \"output_type\": \"error\"\n}\n{\n  \"cell_type\": \"code\",\n  \"execution_count\": 1,\n  \"id\": \"7e5deaa8-6f0e-4b70-b5af-4b70b53ea130\",\n  \"metadata\": {},\n  \"outputs\": [\n  {\n    \"name\": \"stdout\",\n    \"output_type\": \"stream\",\n    \"text\": [\n    \"1\\n\",\n    \"2\\n\"\n    ]\n  }\n  ],\n  \"source\": [\n  \"from time import sleep\\n\",\n  \"for i in range(1, 3):\\n\",\n  \"      sleep(i)\\n\",\n  \"      print(i)\"\n  ]\n},\n*/\nexport const OutputRenderer = (props) => {\n    const { output } = props;\n    let plain;\n    let html;\n    let img;\n    switch (output.output_type) {\n        case 'error': {\n            // Convert ANSI escape codes to HTML for colored error output\n            const tracebackText = output.traceback.join('\\n');\n            html = ansiConverter.toHtml(tracebackText);\n            plain = tracebackText;\n            break;\n        }\n        case 'stream': {\n            const t = output.text;\n            if (typeof t === 'string') {\n                plain = t;\n            }\n            else if (typeof t === 'boolean') {\n                plain = t ? 'true' : 'false';\n            }\n            else if (Array.isArray(t)) {\n                plain = t.join('\\n');\n            }\n            else {\n                plain = t?.toString();\n            }\n            break;\n        }\n        case 'display_data': {\n            const data = output.data;\n            if (data) {\n                const image_png = data['image/png'];\n                if (image_png) {\n                    img = image_png;\n                }\n            }\n            break;\n        }\n        case 'execute_result': {\n            const data = output.data;\n            if (data) {\n                const text_plain = data['text/plain'];\n                if (text_plain) {\n                    if (typeof text_plain === 'string') {\n                        plain = text_plain;\n                    }\n                    else if (Array.isArray(text_plain)) {\n                        plain = text_plain.join('\\n');\n                    }\n                    else {\n                        plain = text_plain.toString();\n                    }\n                }\n                const text_html = data['text/html'];\n                if (text_html) {\n                    if (typeof text_html === 'string') {\n                        html = text_html;\n                    }\n                    else {\n                        html = text_html.join('\\n');\n                    }\n                }\n            }\n            break;\n        }\n    }\n    return (_jsxs(_Fragment, { children: [plain && (_jsx(\"pre\", { style: {\n                    color: 'black',\n                    backgroundColor: 'white',\n                }, children: plain })), html && (_jsx(\"div\", { children: _jsx(\"div\", { dangerouslySetInnerHTML: { __html: html } }) })), img && (_jsx(\"div\", { children: _jsx(\"img\", { src: `data:image/png;base64,${img}` }) }))] }));\n};\nexport default OutputRenderer;\n//# sourceMappingURL=OutputRenderer.js.map","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\n/*\n * Copyright (c) 2021-2023 Datalayer, Inc.\n *\n * MIT License\n */\nimport { useEffect, useState } from 'react';\nimport { Spinner } from '@primer/react';\nimport { Box } from '@datalayer/primer-addons';\nimport { Lumino } from '../lumino/Lumino';\nimport { useJupyter } from '../../jupyter/JupyterUse';\nimport { newUuid } from '../../utils';\nimport { KernelActionMenu, KernelProgressBar } from '../kernel';\nimport { CodeMirrorEditor } from '../codemirror';\nimport { OutputAdapter } from './OutputAdapter';\nimport { OutputRenderer } from './OutputRenderer';\nimport { useOutputsStore } from './OutputState';\nimport './Output.css';\nconst DEFAULT_OUTPUTS = [\n    {\n        output_type: 'execute_result',\n        data: {\n            'text/html': ['<p>Type code in the cell and Shift+Enter to execute.</p>'],\n        },\n        execution_count: 0,\n        metadata: {},\n    },\n];\nexport const Output = ({ adapter: propsAdapter, autoRun = false, clearTrigger = 0, code = '', codePre, disableRun = false, executeTrigger = 0, id: sourceId, insertText, kernel: propsKernel, lumino = true, model, onExecutionPhaseChanged, outputs: propsOutputs = DEFAULT_OUTPUTS, receipt, showControl = true, showEditor = false, showKernelProgressBar = true, suppressCodeExecutionErrors = false, toolbarPosition = 'up', notifyOnComplete = false, }) => {\n    void notifyOnComplete;\n    const { defaultKernel } = useJupyter();\n    const outputStore = useOutputsStore();\n    const kernel = propsKernel ?? propsAdapter?.kernel ?? defaultKernel;\n    const [id, setId] = useState(() => sourceId ?? newUuid());\n    const resolvedSourceId = sourceId ?? id;\n    const [kernelStatus, setKernelStatus] = useState('unknown');\n    const [outputs, setOutputs] = useState(propsOutputs);\n    const [adapter, setAdapter] = useState();\n    // Sync outputs when propsOutputs changes\n    useEffect(() => {\n        setOutputs(propsOutputs);\n    }, [propsOutputs]);\n    // Force Lumino widget update when executeTrigger changes\n    useEffect(() => {\n        if (lumino && adapter?.outputArea) {\n            console.warn(' Forcing Lumino widget update due to executeTrigger change:', executeTrigger);\n            adapter.outputArea.update();\n        }\n    }, [executeTrigger, lumino, adapter]);\n    useEffect(() => {\n        if (sourceId && sourceId !== id) {\n            setId(sourceId);\n        }\n    }, [sourceId, id]);\n    useEffect(() => {\n        const outputsCallback = (model, _) => {\n            setOutputs(model.toJSON());\n            if (id) {\n                outputStore.setModel(id, model);\n            }\n        };\n        const receiptCallback = (model, change) => {\n            if (receipt && change.type === 'add') {\n                change.newValues.map(val => {\n                    if (val && val.data) {\n                        const out = val.data['text/html']; // val.data['application/vnd.jupyter.stdout'];\n                        if (out) {\n                            if (out.indexOf(receipt) > -1) {\n                                outputStore.setGradeSuccess(resolvedSourceId, true);\n                            }\n                        }\n                    }\n                });\n            }\n        };\n        if (id && kernel) {\n            const adapter = propsAdapter ??\n                new OutputAdapter(id, kernel, outputs ?? [], model, suppressCodeExecutionErrors);\n            setAdapter(adapter);\n            outputStore.setAdapter(id, adapter);\n            if (model) {\n                outputStore.setModel(id, model);\n            }\n            if (code) {\n                outputStore.setInput(id, code);\n            }\n            adapter.outputArea.model.changed.connect(outputsCallback);\n            if (receipt) {\n                adapter.outputArea.model.changed.connect(receiptCallback);\n            }\n        }\n        return () => {\n            if (adapter) {\n                adapter.outputArea.model.changed.disconnect(outputsCallback);\n                adapter.outputArea.model.changed.disconnect(receiptCallback);\n            }\n        };\n    }, [id, kernel]);\n    useEffect(() => {\n        if (adapter) {\n            if (autoRun) {\n                adapter.kernel?.ready.then(() => {\n                    adapter.execute(code, onExecutionPhaseChanged);\n                });\n            }\n        }\n    }, [adapter]);\n    useEffect(() => {\n        if (kernel) {\n            kernel.ready.then(() => {\n                setKernelStatus(kernel.connection.status);\n                kernel.connection.statusChanged.connect((kernelConnection, status) => {\n                    setKernelStatus(status);\n                });\n            });\n            return () => {\n                // kernel.connection.then(k => k.shutdown().then(() => console.log(`Kernel ${k.id} is terminated.`)));\n            };\n        }\n        else {\n            // Reset kernel status when kernel becomes undefined (e.g., runtime terminated)\n            // This prevents zombie progress bars from showing\n            setKernelStatus('idle');\n        }\n    }, [kernel]);\n    const executeRequest = outputStore.getExecuteRequest(resolvedSourceId);\n    useEffect(() => {\n        if (adapter && executeRequest && executeRequest === id) {\n            adapter.execute(code, onExecutionPhaseChanged);\n        }\n    }, [executeRequest, adapter]);\n    useEffect(() => {\n        if (adapter && executeTrigger > 0) {\n            adapter.execute(code, onExecutionPhaseChanged);\n        }\n    }, [executeTrigger]);\n    useEffect(() => {\n        if (adapter && clearTrigger > 0) {\n            adapter.clear();\n        }\n    }, [clearTrigger, adapter]);\n    return (_jsxs(_Fragment, { children: [showEditor && adapter && id && (_jsx(Box, { sx: {\n                    '& .cm-editor': {\n                        borderRadius: '5px',\n                    },\n                }, children: _jsx(CodeMirrorEditor, { autoRun: autoRun, code: code, codePre: codePre, disableRun: disableRun, insertText: insertText, kernel: kernel, outputAdapter: adapter, sourceId: id, toolbarPosition: toolbarPosition }) })), adapter && (_jsxs(Box, { display: \"flex\", children: [_jsx(Box, { flexGrow: 1, children: kernel && kernelStatus !== 'idle' && showKernelProgressBar && (_jsx(KernelProgressBar, {})) }), showControl && (_jsx(Box, { style: { marginTop: '-13px' }, children: _jsx(KernelActionMenu, { kernel: kernel, outputAdapter: adapter }) }))] })), outputs && (_jsx(Box, { sx: {\n                    margin: 0,\n                    padding: 0,\n                    '& .jp-OutputArea': {\n                        fontSize: '10px',\n                    },\n                    '& .jp-OutputPrompt': {\n                    //              display: 'none',\n                    },\n                    '& .jp-OutputArea-prompt': {\n                        display: 'none',\n                        //              width: '0px',\n                    },\n                    '& pre': {\n                        fontSize: '12px',\n                        wordBreak: 'break-all',\n                        wordWrap: 'break-word',\n                        whiteSpace: 'pre-wrap',\n                    },\n                }, children: (() => {\n                    const currentAdapter = adapter || propsAdapter;\n                    const isExecuting = kernelStatus === 'busy' || kernelStatus === 'restarting';\n                    const hasNoOutputs = !outputs || outputs.length === 0;\n                    // Show spinner if kernel is executing and no outputs yet\n                    if (isExecuting && hasNoOutputs) {\n                        return (_jsx(Box, { display: \"flex\", justifyContent: \"center\", alignItems: \"center\", p: 3, children: _jsx(Spinner, { size: \"medium\" }) }));\n                    }\n                    return lumino ? (currentAdapter ? (_jsx(Lumino, { children: currentAdapter.outputArea })) : null) : (outputs && (_jsx(_Fragment, { children: outputs.map((output, index) => {\n                            return _jsx(OutputRenderer, { output: output }, index);\n                        }) })));\n                })() }))] }));\n};\nexport default Output;\n//# sourceMappingURL=Output.js.map","/*\n * Copyright (c) 2021-2023 Datalayer, Inc.\n *\n * MIT License\n */\n\n/**\n * Output Chunk - Contains all Output-related dependencies\n * This chunk is loaded on-demand when an Output component is needed\n */\n\nimport React from 'react';\nimport {\n  JupyterReactTheme,\n  Output,\n  useJupyter,\n} from '@datalayer/jupyter-react';\nimport { getJupyterEmbedConfig } from '../config';\nimport type { IOutputEmbedOptions } from '../types';\n\n/**\n * Hook to get Jupyter context from embed config\n */\nconst useJupyterEmbed = () => {\n  const config = getJupyterEmbedConfig();\n  return useJupyter({\n    jupyterServerUrl: config.serverUrl || '',\n    jupyterServerToken: config.token || '',\n    startDefaultKernel: config.autoStartKernel,\n    defaultKernelName: config.defaultKernel,\n    terminals: true,\n  });\n};\n\ninterface IOutputChunkProps {\n  options: IOutputEmbedOptions;\n}\n\nconst OutputInner: React.FC<IOutputChunkProps> = ({ options }) => {\n  const { defaultKernel } = useJupyterEmbed();\n\n  return (\n    <div style={{ height: options.height || 'auto' }}>\n      <Output \n        outputs={options.outputs || []} \n        kernel={defaultKernel}\n        code={options.code}\n        autoRun={options.autoRun}\n        showEditor={false}\n      />\n    </div>\n  );\n};\n\nexport const OutputChunk: React.FC<IOutputChunkProps> = ({ options }) => {\n  return (\n    <JupyterReactTheme>\n      <OutputInner options={options} />\n    </JupyterReactTheme>\n  );\n};\n\nexport default OutputChunk;\n"],"names":["KernelActionMenu","props","kernel","outputAdapter","_jsxs","ActionMenu","children","_jsx","Anchor","IconButton","icon","KebabHorizontalIcon","variant","Overlay","ActionList","Item","onSelect","e","interrupt","LeadingVisual","StopIcon","restart","RestartIcon","clear","PaintbrushIcon","KernelProgressBar","progress","setProgress","useState","useEffect","interval","setInterval","oldValue","newValue","clearInterval","ProgressBar","barSize","basicSetup","lineNumbers","highlightActiveLineGutter","highlightSpecialChars","history","foldGutter","drawSelection","dropCursor","EditorState","allowMultipleSelections","of","indentOnInput","syntaxHighlighting","defaultHighlightStyle","fallback","bracketMatching","closeBrackets","autocompletion","rectangularSelection","crosshairCursor","highlightActiveLine","highlightSelectionMatches","keymap","closeBracketsKeymap","defaultKeymap","searchKeymap","historyKeymap","foldKeymap","completionKeymap","lintKeymap","theme","EditorView","fontSize","border","fontFamily","minHeight","overflow","dark","codeMirrorTheme","CodeMirrorOutputToolbarMenu","executeCode","editorView","preventDefault","ArrowRightIcon","TrailingVisual","onClick","KernelStatus","color","Box","sx","backgroundColor","width","height","borderRadius","CodeMirrorOutputToolbar","codePre","useTheme","okColor","useMemo","colorSchemes","light","colors","success","muted","nokColor","severe","kernelStatus","setKernelStatus","ready","then","connection","status","statusChanged","connect","kernelConnection","display","flexGrow","paddingTop","CodeMirrorEditor","code","autoRun","disableRun","sourceId","toolbarPosition","insertText","outputStore","useOutputsStore","view","setView","dataset","getDataset","source","getInput","editorDiv","useRef","alert","execute","state","doc","toString","setInput","language","Compartment","create","extensions","Prec","highest","key","run","python","lineWrapping","updateListener","viewUpdate","docChanged","parent","current","destroy","payload","dispatch","changes","from","insert","to","length","_Fragment","ref","OutputAdapter","_id","_kernel","_renderers","_outputArea","_rendermime","_iPyWidgetsManager","_suppressCodeExecutionErrors","constructor","id","outputs","outputAreaModel","suppressCodeExecutionErrors","this","standardRendererFactories","filter","factory","mimeTypes","push","jsonRendererFactory","javascriptRendererFactory","RenderMimeRegistry","initialFactories","ClassicWidgetManager","loader","addFactory","safe","WIDGET_MIMETYPE","createRenderer","options","WidgetRenderer","model","OutputAreaModel","trusted","values","OutputArea","rendermime","data","isPlotly","script","node","innerHTML","replaceAll","eval","initKernel","onExecutionPhaseChanged","metadata","promise","registerWithKernel","done","setOutputs","forEach","output","add","outputArea","__importDefault","mod","__esModule","default","Object","defineProperty","decode_codepoint","value","decode_json_1","require$$0","fromCodePoint","String","codePoint","fromCharCode","decode","decodeHTML","decodeHTMLStrict","decodeXML","entities_json_1","legacy_json_1","require$$1","xml_json_1","require$$2","decode_codepoint_1","strictEntityRe","getStrictDecoder","map","replace","getReplacer","str","sorter","a","b","charAt","secondChar","parseInt","substr","slice","legacy","keys","sort","i","j","re","RegExp","join","replacer","encode","escapeUTF8","escape","encodeNonAsciiHTML","encodeXML","inverseXML","getInverseObj","xmlReplacer","getInverseReplacer","getASCIIEncoder","inverse","inverseHTML","htmlReplacer","obj","reduce","name","single","multiple","_i","_a","k","start","end","charCodeAt","count","splice","unshift","encodeHTML","reNonASCII","singleCharReplacer","getCodePoint","prototype","codePointAt","c","toUpperCase","reEscapeChars","exports","decodeXMLStrict","decodeHTML4Strict","decodeHTML5","encodeHTML5","encodeHTML4","decodeStrict","decode_1","encode_1","level","encode_2","enumerable","get","decode_2","_createClass","Constructor","protoProps","staticProps","target","descriptor","configurable","writable","_defineProperties","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","call","test","_unsupportedIterableToArray","F","s","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","arr","len","arr2","entities","defaults","fg","bg","newline","escapeXML","stream","range","red","green","blue","r","g","_step","results","_iterator","toHexString","toColorHexString","setStyleColor","gray","l","num","generateOutput","stack","token","result","text","pushText","codeMap","resetStyles","pushTag","pushStyle","closeTag","pushForegroundColor","pushBackgroundColor","handleDisplay","substring","operation","split","rgb","Number","handleRgb","stackClone","reverse","tag","low","high","categoryForCode","style","concat","last","pop","ansi_to_html","Filter","instance","_classCallCheck","assign","stickyStack","input","_this","buf","element","callback","ansiMatch","remove","m","tokens","pattern","sub","g1","trim","_step2","_iterator2","trimRight","process","handler","results1","outer","tokenize","category","updateStickyStack","ansiConverter","AnsiToHtml","OutputRenderer","plain","html","img","output_type","tracebackText","traceback","toHtml","t","image_png","text_plain","text_html","dangerouslySetInnerHTML","__html","src","DEFAULT_OUTPUTS","execution_count","Output","adapter","propsAdapter","clearTrigger","executeTrigger","propsKernel","lumino","propsOutputs","receipt","showControl","showEditor","showKernelProgressBar","notifyOnComplete","defaultKernel","useJupyter","setId","newUuid","resolvedSourceId","setAdapter","console","warn","update","outputsCallback","_","toJSON","setModel","receiptCallback","change","type","newValues","val","out","indexOf","setGradeSuccess","changed","disconnect","executeRequest","getExecuteRequest","marginTop","margin","padding","wordBreak","wordWrap","whiteSpace","currentAdapter","isExecuting","hasNoOutputs","justifyContent","alignItems","p","Spinner","size","Lumino","index","useJupyterEmbed","config","getJupyterEmbedConfig","jupyterServerUrl","serverUrl","jupyterServerToken","startDefaultKernel","autoStartKernel","defaultKernelName","terminals","OutputInner","jsx","OutputChunk","JupyterReactTheme"],"mappings":"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","x_google_ignoreList":[2,7,8,9,10,11]}