{"version":3,"file":"mimetype-WrG96ErW.js","sources":["../../../../node_modules/@jupyterlab/codemirror/lib/mimetype.js"],"sourcesContent":["// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { IEditorMimeTypeService } from '@jupyterlab/codeeditor';\nimport { PathExt } from '@jupyterlab/coreutils';\n/**\n * The mime type service for CodeMirror.\n */\nexport class CodeMirrorMimeTypeService {\n    constructor(languages) {\n        this.languages = languages;\n    }\n    /**\n     * Returns a mime type for the given language info.\n     *\n     * #### Notes\n     * If a mime type cannot be found returns the default mime type `text/plain`, never `null`.\n     * There may be more than one mime type, but only the first one will be returned.\n     * To access all mime types, use `IEditorLanguageRegistry` instead.\n     */\n    getMimeTypeByLanguage(info) {\n        var _a;\n        const ext = info.file_extension || '';\n        const mode = this.languages.findBest(info.codemirror_mode || {\n            mimetype: info.mimetype,\n            name: info.name,\n            ext: [ext.split('.').slice(-1)[0]]\n        });\n        return mode\n            ? Array.isArray(mode.mime)\n                ? (_a = mode.mime[0]) !== null && _a !== void 0 ? _a : IEditorMimeTypeService.defaultMimeType\n                : mode.mime\n            : IEditorMimeTypeService.defaultMimeType;\n    }\n    /**\n     * Returns a mime type for the given file path.\n     *\n     * #### Notes\n     * If a mime type cannot be found returns the default mime type `text/plain`, never `null`.\n     * There may be more than one mime type, but only the first one will be returned.\n     * To access all mime types, use `IEditorLanguageRegistry` instead.\n     */\n    getMimeTypeByFilePath(path) {\n        var _a;\n        const ext = PathExt.extname(path);\n        if (ext === '.ipy') {\n            return 'text/x-python';\n        }\n        else if (ext === '.md') {\n            return 'text/x-ipythongfm';\n        }\n        const mode = this.languages.findByFileName(path);\n        return mode\n            ? Array.isArray(mode.mime)\n                ? (_a = mode.mime[0]) !== null && _a !== void 0 ? _a : IEditorMimeTypeService.defaultMimeType\n                : mode.mime\n            : IEditorMimeTypeService.defaultMimeType;\n    }\n}\n//# sourceMappingURL=mimetype.js.map"],"names":["CodeMirrorMimeTypeService","constructor","languages","this","getMimeTypeByLanguage","info","_a","ext","file_extension","mode","findBest","codemirror_mode","mimetype","name","split","slice","Array","isArray","mime","IEditorMimeTypeService","defaultMimeType","getMimeTypeByFilePath","path","PathExt","extname","findByFileName"],"mappings":"2DAOO,MAAMA,EACT,WAAAC,CAAYC,GACRC,KAAKD,UAAYA,CACrB,CASA,qBAAAE,CAAsBC,GAClB,IAAIC,EACJ,MAAMC,EAAMF,EAAKG,gBAAkB,GAC7BC,EAAON,KAAKD,UAAUQ,SAASL,EAAKM,iBAAmB,CACzDC,SAAUP,EAAKO,SACfC,KAAMR,EAAKQ,KACXN,IAAK,CAACA,EAAIO,MAAM,KAAKC,OAAM,GAAI,MAEnC,OAAON,EACDO,MAAMC,QAAQR,EAAKS,MACS,QAAvBZ,EAAKG,EAAKS,KAAK,UAAuB,IAAPZ,EAAgBA,EAAKa,EAAuBC,gBAC5EX,EAAKS,KACTC,EAAuBC,eACjC,CASA,qBAAAC,CAAsBC,GAClB,IAAIhB,EACJ,MAAMC,EAAMgB,EAAAA,QAAQC,QAAQF,GAC5B,GAAY,SAARf,EACA,MAAO,gBACX,GACiB,QAARA,EACL,MAAO,oBAEX,MAAME,EAAON,KAAKD,UAAUuB,eAAeH,GAC3C,OAAOb,EACDO,MAAMC,QAAQR,EAAKS,MACS,QAAvBZ,EAAKG,EAAKS,KAAK,UAAuB,IAAPZ,EAAgBA,EAAKa,EAAuBC,gBAC5EX,EAAKS,KACTC,EAAuBC,eACjC","x_google_ignoreList":[0]}